<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control de Asistencia | Holding Triple A</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/dashboard.css">
  <link rel="stylesheet" href="css/asistencia.css">

  <!-- Favicon -->
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
</head>

<body class="dashboard-body">

  <!-- ==================== NAVBAR ==================== -->
  <nav class="navbar">
    <div class="navbar-logo">
      <img src="assets/images/logo.png" alt="Holding Triple A" width="48">
      <h2>Holding Triple A</h2>
    </div>

    <ul class="navbar-menu">
      <li><a href="dashboard.html">Inicio</a></li>
      <li><a href="empresas.html">Empresas</a></li>
      <li><a href="empleados.html">Empleados</a></li>
      <li><a href="asistencia.html" class="active">Asistencia</a></li>
      <li><a href="reportes.html">Reportes</a></li>
    </ul>

    <div class="navbar-user">
      <span id="userName">Usuario: Nombre</span>
      <button class="btn-logout" id="btnLogout">Cerrar Sesión</button>
    </div>
  </nav>

  <!-- ==================== CONTENEDOR PRINCIPAL ==================== -->
  <main class="dashboard-container">

    <!-- TÍTULO PRINCIPAL -->
    <header class="dashboard-header">
      <h1>Control de Asistencia</h1>
      <p>Registro y consulta de asistencia diaria</p>
    </header>

    <!-- ==================== FILTROS ==================== -->
    <section class="filters-section card">
      <h3>Filtros</h3>

      <div class="filters-grid">
        <div class="form-group">
          <label for="filtroEmpresa">Empresa</label>
          <select id="filtroEmpresa" class="form-input">
            <option value="">Todas</option>
          </select>
        </div>

        <div class="form-group">
          <label for="filtroFecha">Fecha</label>
          <input type="date" id="filtroFecha" class="form-input">
        </div>

        <div class="form-group">
          <label>&nbsp;</label>
          <button id="btnFiltrar" class="btn btn-primary btn-block">Filtrar</button>
        </div>
      </div>
    </section>

    <!-- ==================== FORMULARIO ==================== -->
    <section class="form-section card">
      <h3>Registrar Asistencia Manual</h3>

      <form id="asistenciaForm" class="form-grid">

        <!-- Empresa -->
        <div class="form-group">
          <label for="empresaAsistencia">Empresa <span class="text-error">*</span></label>
          <select id="empresaAsistencia" class="form-input" required>
            <option value="">Seleccione empresa</option>
          </select>
        </div>

        <!-- Empleado -->
        <div class="form-group">
          <label for="empleadoAsistencia">Empleado <span class="text-error">*</span></label>
          <select id="empleadoAsistencia" class="form-input" required>
            <option value="">Seleccione empleado</option>
          </select>
        </div>

        <!-- Fecha -->
        <div class="form-group">
          <label for="fechaAsistencia">Fecha <span class="text-error">*</span></label>
          <input type="date" id="fechaAsistencia" class="form-input" required>
        </div>

        <!-- Hora Entrada -->
        <div class="form-group">
          <label for="horaEntrada">Hora de Entrada</label>
          <input type="time" id="horaEntrada" class="form-input">
        </div>

        <!-- Hora Salida -->
        <div class="form-group">
          <label for="horaSalida">Hora de Salida</label>
          <input type="time" id="horaSalida" class="form-input">
        </div>

        <!-- Botones -->
        <div class="form-buttons">
          <button type="submit" id="btnGuardarAsistencia" class="btn btn-primary">Guardar</button>
          <button type="reset" class="btn btn-secondary">Cancelar</button>
        </div>

      </form>
    </section>

    <!-- ==================== TABLA ==================== -->
    <section class="table-section card">
      <h3>Listado de Asistencia</h3>

      <table class="table" id="tablaAsistencia">
        <thead>
          <tr>
            <th>Empresa</th>
            <th>Empleado</th>
            <th>Fecha</th>
            <th>Entrada</th>
            <th>Salida</th>
            <th>Acciones</th>
          </tr>
        </thead>

        <tbody id="asistenciaBody">
          <!-- Filas dinámicas generadas por JS -->
        </tbody>
      </table>

    </section>

  </main>

  <!-- ==================== NOTAS PARA ROBERTO ==================== -->
  <!--
    FORMULARIO:
      - #asistenciaForm
      - #empresaAsistencia
      - #empleadoAsistencia
      - #fechaAsistencia
      - #horaEntrada
      - #horaSalida
      - #btnGuardarAsistencia

    TABLA:
      - #tablaAsistencia
      - #asistenciaBody

    FILTROS:
      - #filtroEmpresa
      - #filtroFecha
      - #btnFiltrar

    Flujo esperado:
      1. Cargar empresas y empleados → GET /api/empleados
      2. Listar asistencia → GET /api/asistencia
      3. Registrar asistencia → POST /api/asistencia
      4. Editar asistencia → Cargar datos en formulario
      5. Filtrar asistencia por empresa/fecha
  -->

  <script src="js/asistencia.js"></script>
</body>

</html>
